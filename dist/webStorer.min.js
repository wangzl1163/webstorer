/*!
 * @license :webstorer - V0.5.0 - 09/04/2021
 * https://github.com/wangzl1163/webstorer
 * Copyright (c) 2021 @wangzl1163; Licensed MIT
 */
var webStorer=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="zUnb")}({S6P5:function(e,t,r){"production"===production?e.exports=r("uXZf"):e.exports=r("tq5t")},"q/8d":function(e,t,r){"use strict";r.r(t),t.default=r.p+"scripts/jsstore.worker.34bb91b2583e52050d1bdd5623de6b22.js"},tPlz:function(e,t){
/*!
 * @license :sqlweb - V1.5.0 - 01/11/2020
 * https://github.com/ujjwalguptaofficial/sqlweb
 * Copyright (c) 2020 @Ujjwal Gupta; Licensed MIT
 */
e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(7);t.default={setup:function(e,t){e.$sql={run:function(t){var r=Object(n.parseSql)(t);return e[r.api](r.data)},Query:i.Query}}}},function(e,t,r){"use strict";r.r(t),r.d(t,"parseSql",(function(){return i}));var n=r(2),i=function(e){return!0===n.Util.isString(e)?n.Util.parseSql(e):e.query_}},function(e,t,r){"use strict";r.r(t),r.d(t,"Util",(function(){return u}));var n=r(3),i=r(4),o=r(5),u=function(){function e(){}return e.isString=function(e){return"string"==typeof e},e.parseJson=function(e){return JSON.parse(e,(function(e,t){return"string"==typeof t&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/.test(t)?new Date(t):t}))},e.parseSql=function(e){try{return e=e.replace(new RegExp("\n","g"),"").trim(),n.parse(e)}catch(e){throw new i.LogHelper(o.ERROR_TYPE.SynTaxError,e.message).get()}},e}()},function(e,t,r){"use strict";function n(e,t,r,i){this.message=e,this.expected=t,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}!function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(n,Error),n.buildMessage=function(e,t){var r={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?o(e.parts[t][0])+"-"+o(e.parts[t][1]):o(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}return"Expected "+function(e){var t,n,i,o=new Array(e.length);for(t=0;t<e.length;t++)o[t]=(i=e[t],r[i.type](i));if(o.sort(),o.length>0){for(t=1,n=1;t<o.length;t++)o[t-1]!==o[t]&&(o[n]=o[t],n++);o.length=n}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(e)+" but "+function(e){return e?'"'+i(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:n,parse:function(e,t){t=void 0!==t?t:{};var r,i={},o={query:ir},u=ir,s=$t(";",!1),a=$t("(",!1),c=$t(")",!1),f=$t(",",!1),l=$t("({",!1),p=$t("})",!1),h=$t(":",!1),d=$t("=",!1),v=$t("*",!1),y=$t(".",!1),b=$t("[",!1),_=$t("]",!1),m=$t("!=",!1),g=$t(">=",!1),A=$t("<=",!1),x=$t(">",!1),D=$t("<",!1),S=$t("'%",!1),q=$t("%'",!1),E=$t("'",!1),w=Xt("on value"),C=/^[a-zA-Z_.]/,k=Ht([["a","z"],["A","Z"],"_","."],!1,!1),O=function(e){return e.join("")},I=Xt("table name"),Q=Xt("database name"),T=Xt("column"),j=Xt("order type"),P=$t("asc",!1),L=$t("desc",!1),R=$t("&&",!1),N=$t("||",!1),W=Xt("column value"),M=Xt("identifier"),U=/^[a-zA-Z0-9_]/,G=Ht([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),F=Xt("word"),V=(Ht([["a","z"],["A","Z"],["0","9"]],!1,!1),/^[^'%]/),K=Ht(["'","%"],!0,!1),B=Xt("number"),J=/^[0-9]/,z=Ht([["0","9"]],!1,!1),Z=Xt("Whitespace"),Y=/^[ \t]/,$=Ht([" ","\t"],!1,!1),H=Xt("One or more whitespaces"),X=/^[aA]/,ee=Ht(["a","A"],!1,!1),te=/^[bB]/,re=Ht(["b","B"],!1,!1),ne=/^[cC]/,ie=Ht(["c","C"],!1,!1),oe=/^[dD]/,ue=Ht(["d","D"],!1,!1),se=/^[eE]/,ae=Ht(["e","E"],!1,!1),ce=/^[fF]/,fe=Ht(["f","F"],!1,!1),le=/^[gG]/,pe=Ht(["g","G"],!1,!1),he=/^[hH]/,de=Ht(["h","H"],!1,!1),ve=/^[iI]/,ye=Ht(["i","I"],!1,!1),be=/^[jJ]/,_e=Ht(["j","J"],!1,!1),me=/^[kK]/,ge=Ht(["k","K"],!1,!1),Ae=/^[lL]/,xe=Ht(["l","L"],!1,!1),De=/^[mM]/,Se=Ht(["m","M"],!1,!1),qe=/^[nN]/,Ee=Ht(["n","N"],!1,!1),we=/^[oO]/,Ce=Ht(["o","O"],!1,!1),ke=/^[pP]/,Oe=Ht(["p","P"],!1,!1),Ie=/^[qQ]/,Qe=Ht(["q","Q"],!1,!1),Te=/^[rR]/,je=Ht(["r","R"],!1,!1),Pe=/^[sS]/,Le=Ht(["s","S"],!1,!1),Re=/^[tT]/,Ne=Ht(["t","T"],!1,!1),We=/^[uU]/,Me=Ht(["u","U"],!1,!1),Ue=/^[vV]/,Ge=Ht(["v","V"],!1,!1),Fe=/^[wW]/,Ve=Ht(["w","W"],!1,!1),Ke=/^[xX]/,Be=Ht(["x","X"],!1,!1),Je=/^[yY]/,ze=Ht(["y","Y"],!1,!1),Ze=(Ht(["z","Z"],!1,!1),Xt("min")),Ye=Xt("max"),$e=Xt("avg"),He=Xt("count"),Xe=Xt("sum"),et=(Xt("aggregate"),Xt("between")),tt=Xt("in"),rt=Xt("like"),nt=Xt("select"),it=Xt("distinct"),ot=Xt("order"),ut=Xt("by"),st=Xt("from"),at=Xt("group"),ct=Xt("limit"),ft=Xt("skip"),lt=Xt("where"),pt=Xt("insert"),ht=Xt("into"),dt=Xt("return"),vt=Xt("values"),yt=Xt("skipdatacheck"),bt=Xt("update"),_t=Xt("set"),mt=Xt("delete"),gt=Xt("version"),At=Xt("enablesearch"),xt=Xt("multiEntry"),Dt=Xt("primarykey"),St=Xt("unique"),qt=Xt("string"),Et=Xt("object"),wt=Xt("array"),Ct=Xt("boolean"),kt=Xt("date_time"),Ot=$t("_",!1),It=Xt("autoincrement"),Qt=Xt("notnull"),Tt=Xt("default"),jt=Xt("define"),Pt=Xt("table"),Lt=Xt("db"),Rt=Xt("isDbExist"),Nt=Xt("openDb"),Wt=Xt("disablesearch"),Mt=Xt("join"),Ut=Xt("on"),Gt=Xt("inner"),Ft=Xt("left"),Vt=Xt("as"),Kt=Xt("upsert"),Bt=0,Jt=[{line:1,column:1}],zt=0,Zt=[],Yt=0;if("startRule"in t){if(!(t.startRule in o))throw new Error("Can't start parsing from rule \""+t.startRule+'".');u=o[t.startRule]}function $t(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ht(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function Xt(e){return{type:"other",description:e}}function er(t){var r,n=Jt[t];if(n)return n;for(r=t-1;!Jt[r];)r--;for(n={line:(n=Jt[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return Jt[t]=n,n}function tr(e,t){var r=er(e),n=er(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function rr(e){Bt<zt||(Bt>zt&&(zt=Bt,Zt=[]),Zt.push(e))}function nr(e,t,r){return new n(n.buildMessage(e,t),e,t,r)}function ir(){var t;return(t=function(){var t,r,n,o,u,s,a,c,f,l,p,h,d,y,m;if(t=Bt,(r=function(){var e,t,r,n,o,u,s;Yt++,e=Bt,(t=dn())!==i&&(r=en())!==i&&(n=an())!==i&&(o=en())!==i&&(u=Hr())!==i&&(s=vn())!==i?e=t=[t,r,n,o,u,s]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(nt));return e}())!==i){if(n=[],(o=Zr())!==i)for(;o!==i;)n.push(o),o=Zr();else n=i;if(n!==i){if(o=Bt,42===e.charCodeAt(Bt)?(u="*",Bt++):(u=i,0===Yt&&rr(v)),u!==i){if(s=[],(a=Zr())!==i)for(;a!==i;)s.push(a),a=Zr();else s=i;s!==i?o=u=[u,s]:(Bt=o,o=i)}else Bt=o,o=i;if(o===i&&(o=null),o!==i)if((u=function(){var e,t,r,n;if(e=Bt,(t=function(){var e,t,r,n;if(e=Bt,(t=hr())!==i){for(r=[],n=dr();n!==i;)r.push(n),n=dr();r!==i?(e,o=t,(u=r).splice(0,0,o),e=t=u):(Bt=e,e=i)}else Bt=e,e=i;var o,u;return e}())!==i){if(r=[],(n=Zr())!==i)for(;n!==i;)r.push(n),n=Zr();else r=i;r!==i?(e,e=t=t):(Bt=e,e=i)}else Bt=e,e=i;return e}())===i&&(u=null),u!==i)if((s=function(){var t,r;t=Bt,(r=function(){var t,r,n,o,u,s;t=Bt,91===e.charCodeAt(Bt)?(r="[",Bt++):(r=i,0===Yt&&rr(b));if(r!==i)if((n=yr())!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i){for(u=[],s=vr();s!==i;)u.push(s),s=vr();u!==i?(93===e.charCodeAt(Bt)?(s="]",Bt++):(s=i,0===Yt&&rr(_)),s!==i?(t,a=n,(c=u).splice(0,0,a),t=r=c):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i;var a,c;return t}())!==i&&Zr()!==i?(t,r=r[0],t=r):(Bt=t,t=i);return t}())===i&&(s=null),s!==i)if((a=Dn())!==i)if(Zr()!==i)if((c=Nr())!==i){for(f=[],l=Zr();l!==i;)f.push(l),l=Zr();if(f!==i){for(l=[],p=Pr();p!==i;)l.push(p),p=Pr();if(l!==i){for(p=[],h=Zr();h!==i;)p.push(h),h=Zr();if(p!==i)if((h=qr())===i&&(h=null),h!==i){for(d=[],y=Zr();y!==i;)d.push(y),y=Zr();if(d!==i){for(y=[],(m=Dr())===i&&(m=Sr())===i&&(m=xr())===i&&(m=mr())===i&&(m=br());m!==i;)y.push(m),(m=Dr())===i&&(m=Sr())===i&&(m=xr())===i&&(m=mr())===i&&(m=br());y!==i?(t,r=function(e,t,r,n,i,o){const u={};let s;return o.forEach(e=>{var t=Object.keys(e)[0];switch(t){case"skip":u.skip=e[t];break;case"limit":u.limit=e[t];break;case"distinct":u.distinct=e[t];break;case"order":u.order=e[t];break;case"groupBy":u.groupBy=e[t]}}),null!=i&&(s=[],i.forEach(e=>{if(e.table){var t=n.find(t=>t.with===e.table);null!=t&&(Array.isArray(t.where)?t.where.push(e.query):t.where=[e.query])}else s.push(e)}),0===s.length&&(s=null)),null!=e&&e.forEach(e=>{const t=n.find(t=>t.with===e.table);if(null!=t){const r={[e.column]:e.alias};null==t.as?t.as=r:t.as={...r,...t.as}}}),{api:"select",data:{from:r,where:s,...u,aggregate:t,join:0===n.length?null:n}}}(u,s,c,l,h,y),t=r):(Bt=t,t=i)}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i}else Bt=t,t=i;return t}())===i&&(t=function(){var t,r,n,o,u,s,a,c,f,l,p;if(t=Bt,(r=An())!==i)if(Zr()!==i)if(n=Bt,42===e.charCodeAt(Bt)?(o="*",Bt++):(o=i,0===Yt&&rr(v)),o!==i&&(u=Zr())!==i?n=o=[o,u]:(Bt=n,n=i),n===i&&(n=null),n!==i)if((o=Dn())!==i)if((u=Zr())!==i)if((s=Nr())!==i){for(a=[],c=Zr();c!==i;)a.push(c),c=Zr();if(a!==i)if((c=qr())===i&&(c=null),c!==i){for(f=[],l=Zr();l!==i;)f.push(l),l=Zr();if(f!==i){for(l=[],(p=xr())===i&&(p=br());p!==i;)l.push(p),(p=xr())===i&&(p=br());l!==i?(t,r=function(e,t,r){const n={};return r.forEach(e=>{var t=Object.keys(e)[0];switch(t){case"distinct":n.distinct=e[t];break;case"groupBy":n.groupBy=e[t]}}),{api:"count",data:{from:e,where:t,...n}}}(s,c,l),t=r):(Bt=t,t=i)}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i;return t}())===i&&(t=function(){var t,r,n,o,u,s,a,c,f,h;if(t=Bt,(r=function(){var e,t,r,n,o,u,s;Yt++,e=Bt,(t=on())!==i&&(r=fn())!==i&&(n=dn())!==i&&(o=en())!==i&&(u=hn())!==i&&(s=vn())!==i?e=t=[t,r,n,o,u,s]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(pt));return e}())!==i)if(Zr()!==i)if(function(){var e,t,r,n,o;Yt++,e=Bt,(t=on())!==i&&(r=fn())!==i&&(n=vn())!==i&&(o=ln())!==i?e=t=[t,r,n,o]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(ht));return e}()!==i)if(Zr()!==i)if((n=Nr())!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if((u=function(){var e,t,r,n,o,u,s;Yt++,e=Bt,(t=bn())!==i&&(r=Yr())!==i&&(n=an())!==i&&(o=yn())!==i&&(u=en())!==i&&(s=dn())!==i?e=t=[t,r,n,o,u,s]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(vt));return e}())!==i){for(s=[],a=Zr();a!==i;)s.push(a),a=Zr();if(s!==i)if((a=function(){var t;(t=function(){var t,r,n;t=Bt,61===e.charCodeAt(Bt)?(r="=",Bt++):(r=i,0===Yt&&rr(d));r!==i&&(n=Gr())!==i?(t,t=r=n):(Bt=t,t=i);return t}())===i&&(t=function(){var t,r,n,o,u,s,a,c;t=Bt,"({"===e.substr(Bt,2)?(r="({",Bt+=2):(r=i,0===Yt&&rr(l));if(r!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();if(n!==i)if((o=lr())!==i){for(u=[],s=Zr();s!==i;)u.push(s),s=Zr();if(u!==i){for(s=[],a=fr();a!==i;)s.push(a),a=fr();if(s!==i){for(a=[],c=Zr();c!==i;)a.push(c),c=Zr();a!==i?("})"===e.substr(Bt,2)?(c="})",Bt+=2):(c=i,0===Yt&&rr(p)),c!==i?(t,h=s,d={[(f=o).key]:f.value},null!=h&&h.forEach(e=>{d[e.key]=e.value}),t=r=[d]):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;var f,h,d;return t}());return t}())!==i){for(c=[],f=Zr();f!==i;)c.push(f),f=Zr();if(c!==i){for(f=[],h=pr();h!==i;)f.push(h),h=pr();f!==i?(t,r=function(e,t,r){let n={};return r.forEach(e=>{var t=Object.keys(e)[0];switch(t){case"skipDataCheck":n.skipDataCheck=e[t];break;case"return":n.return=e[t];break;case"upsert":n.upsert=e[t]}}),{api:"insert",data:{into:e,values:t,...n}}}(n,a,f),t=r):(Bt=t,t=i)}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i;return t}())===i&&(t=function(){var e,t,r,n,o,u,s,a,c,f;if(e=Bt,function(){var e,t,r,n,o,u,s;Yt++,e=Bt,(t=yn())!==i&&(r=pn())!==i&&(n=Xr())!==i&&(o=Yr())!==i&&(u=vn())!==i&&(s=en())!==i?e=t=[t,r,n,o,u,s]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(bt));return e}()!==i)if(Zr()!==i)if((t=Nr())!==i){for(r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i)if((n=function(){var e,t,r,n;Yt++,e=Bt,(t=dn())!==i&&(r=en())!==i&&(n=vn())!==i?e=t=[t,r,n]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(_t));return e}())!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if((u=function(){var e,t,r,n,o,u;if(e=Bt,(t=Ir())!==i){for(r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i){for(n=[],o=Rr();o!==i;)n.push(o),o=Rr();if(n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();o!==i?(e,s=t,n.forEach(e=>{s={...s,...e}}),e=t=s):(Bt=e,e=i)}else Bt=e,e=i}else Bt=e,e=i}else Bt=e,e=i;var s;return e}())!==i){for(s=[],a=Zr();a!==i;)s.push(a),a=Zr();if(s!==i)if((a=qr())===i&&(a=null),a!==i){for(c=[],f=Zr();f!==i;)c.push(f),f=Zr();c!==i?(e,e={api:"update",data:{in:t,set:u,where:a}}):(Bt=e,e=i)}else Bt=e,e=i;else Bt=e,e=i}else Bt=e,e=i;else Bt=e,e=i}else Bt=e,e=i;else Bt=e,e=i}else Bt=e,e=i;else Bt=e,e=i;else Bt=e,e=i;return e}())===i&&(t=function(){var e,t,r,n,o,u,s,a;if(e=Bt,function(){var e,t,r,n,o,u,s;Yt++,e=Bt,(t=Xr())!==i&&(r=en())!==i&&(n=an())!==i&&(o=en())!==i&&(u=vn())!==i&&(s=en())!==i?e=t=[t,r,n,o,u,s]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(mt));return e}()!==i){for(t=[],r=Zr();r!==i;)t.push(r),r=Zr();if(t!==i)if((r=Dn())!==i)if(Zr()!==i)if((n=Nr())!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if((u=qr())===i&&(u=null),u!==i){for(s=[],a=Zr();a!==i;)s.push(a),a=Zr();s!==i?(e,e={api:"remove",data:{from:n,where:u}}):(Bt=e,e=i)}else Bt=e,e=i;else Bt=e,e=i}else Bt=e,e=i;else Bt=e,e=i;else Bt=e,e=i;else Bt=e,e=i}else Bt=e,e=i;return e}())===i&&(t=function(){var t,r,n,o;if(t=Bt,(r=function(){var t,r,n,o,u,a;if(t=Bt,Sn()!==i){for(r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i)if((n=function(){var e,t,r;Yt++,e=Bt,(t=Xr())!==i&&(r=$r())!==i?e=t=[t,r]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Lt));return e}())!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();o!==i&&(u=Wr())!==i?(59===e.charCodeAt(Bt)?(a=";",Bt++):(a=i,0===Yt&&rr(s)),a===i&&(a=null),a!==i?(t,t={name:u}):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;return t}())!==i){for(n=[],o=or();o!==i;)n.push(o),o=or();n!==i?(t,a=n,(u=r).tables=a,t=r={api:"initDb",data:u}):(Bt=t,t=i)}else Bt=t,t=i;var u,a;return t}())===i&&(t=function(){var e,t,r;if(e=Bt,function(){var e,t,r,n,o,u,s;Yt++,e=Bt,(t=ln())!==i&&(r=pn())!==i&&(n=en())!==i&&(o=fn())!==i&&(u=Xr())!==i&&(s=$r())!==i?e=t=[t,r,n,o,u,s]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Nt));return e}()!==i){for(t=[],r=Zr();r!==i;)t.push(r),r=Zr();t!==i&&(r=Wr())!==i?(e,e={api:"openDb",data:r}):(Bt=e,e=i)}else Bt=e,e=i;return e}())===i&&(t=function(){var e,t,r,n,o;if(e=Bt,function(){var e,t,r,n,o,u,s,a,c,f;Yt++,e=Bt,(t=on())!==i&&(r=dn())!==i&&(n=Xr())!==i&&(o=$r())!==i&&(u=en())!==i&&(s=mn())!==i&&(a=on())!==i&&(c=dn())!==i&&(f=vn())!==i?e=t=[t,r,n,o,u,s,a,c,f]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Rt));return e}()!==i){for(t=[],r=Zr();r!==i;)t.push(r),r=Zr();if(t!==i)if((r=Wr())!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();n!==i?((o=function(){var e,t,r,n,o;if(e=Bt,qn()!==i){for(t=[],r=Zr();r!==i;)t.push(r),r=Zr();if(t!==i)if((r=Nr())!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();n!==i&&(o=cr())!==i?(e,e={name:r,version:o}):(Bt=e,e=i)}else Bt=e,e=i;else Bt=e,e=i}else Bt=e,e=i;return e}())===i&&(o=null),o!==i?(e,u=r,(a={api:"isDbExist"}).data=null==(s=o)?u:{dbName:u,table:s},e=a):(Bt=e,e=i)):(Bt=e,e=i)}else Bt=e,e=i;else Bt=e,e=i}else Bt=e,e=i;var u,s,a;return e}()),t}function or(){var t,r,n,o,u,f,l,p,h,d,v,y,b,_,m,g,A;if(t=Bt,Sn()!==i){for(r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i)if((n=qn())!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if((u=Nr())!==i){for(f=[],l=Zr();l!==i;)f.push(l),l=Zr();if(f!==i)if(40===e.charCodeAt(Bt)?(l="(",Bt++):(l=i,0===Yt&&rr(a)),l!==i){for(p=[],h=Zr();h!==i;)p.push(h),h=Zr();if(p!==i)if((h=sr())!==i){for(d=[],v=ur();v!==i;)d.push(v),v=ur();if(d!==i){for(v=[],y=Zr();y!==i;)v.push(y),y=Zr();if(v!==i)if(41===e.charCodeAt(Bt)?(y=")",Bt++):(y=i,0===Yt&&rr(c)),y!==i){for(b=[],_=Zr();_!==i;)b.push(_),_=Zr();if(b!==i)if((_=cr())===i&&(_=null),_!==i)if(59===e.charCodeAt(Bt)?(m=";",Bt++):(m=i,0===Yt&&rr(s)),m===i&&(m=null),m!==i){for(g=[],A=Zr();A!==i;)g.push(A),A=Zr();g!==i?(t,t=function(e,t,r,n){r.push(t);var i={};r.forEach((function(e){i={...i,...e}}));var o=null==n?null:n.version;return{name:e,columns:i,version:o}}(u,h,d,_)):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;return t}function ur(){var t,r,n,o,u;for(t=Bt,r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i)if(44===e.charCodeAt(Bt)?(n=",",Bt++):(n=i,0===Yt&&rr(f)),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();o!==i&&(u=sr())!==i?(t,t=r=u):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i;return t}function sr(){var e,t,r,n,o;if(e=Bt,(t=Mr())!==i){for(r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i){for(n=[],o=ar();o!==i;)n.push(o),o=ar();n!==i?(e,e=t=function(e,t){var r={unique:!1,autoIncrement:!1,default:null,notNull:!1,dataType:null,primaryKey:!1,multiEntry:!1,enableSearch:!0};return t.forEach(e=>{var t=Object.keys(e)[0];r[t]=e[t]}),{[e]:r}}(t,n)):(Bt=e,e=i)}else Bt=e,e=i}else Bt=e,e=i;return e}function ar(){var t,r,n,o;if(t=Bt,(r=function(){var t;(t=function(){var t,r;t=Bt,(r=function(){var e,t,r,n,o,u,s;Yt++,e=Bt,(t=dn())!==i&&(r=vn())!==i&&(n=hn())!==i&&(o=on())!==i&&(u=fn())!==i&&(s=rn())!==i?e=t=[t,r,n,o,u,s]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(qt));return e}())===i&&(r=function(){var e,t,r,n,o,u,s;Yt++,e=Bt,(t=fn())!==i&&(r=yn())!==i&&(n=cn())!==i&&(o=$r())!==i&&(u=en())!==i&&(s=hn())!==i?e=t=[t,r,n,o,u,s]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(B));return e}())===i&&(r=function(){var e,t,r,n,o,u,s;Yt++,e=Bt,(t=ln())!==i&&(r=$r())!==i&&(n=un())!==i&&(o=en())!==i&&(u=Hr())!==i&&(s=vn())!==i?e=t=[t,r,n,o,u,s]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Et));return e}())===i&&(r=function(){var e,t,r,n,o,u;Yt++,e=Bt,(t=Yr())!==i&&(r=hn())!==i&&(n=hn())!==i&&(o=Yr())!==i&&(u=gn())!==i?e=t=[t,r,n,o,u]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(wt));return e}())===i&&(r=function(){var e,t,r,n,o,u,s,a;Yt++,e=Bt,(t=$r())!==i&&(r=ln())!==i&&(n=ln())!==i&&(o=an())!==i&&(u=en())!==i&&(s=Yr())!==i&&(a=fn())!==i?e=t=[t,r,n,o,u,s,a]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Ct));return e}())===i&&(r=function(){var t,r,n,o,u,s,a,c,f,l;Yt++,t=Bt,(r=Xr())!==i&&(n=Yr())!==i&&(o=vn())!==i&&(u=en())!==i?(95===e.charCodeAt(Bt)?(s="_",Bt++):(s=i,0===Yt&&rr(Ot)),s!==i&&(a=vn())!==i&&(c=on())!==i&&(f=cn())!==i&&(l=en())!==i?t=r=[r,n,o,u,s,a,c,f,l]:(Bt=t,t=i)):(Bt=t,t=i);Yt--,t===i&&(r=i,0===Yt&&rr(kt));return t}());r!==i&&(t,r={dataType:r.join("").toLowerCase()});return t=r}())===i&&(t=function(){var e,t;e=Bt,(t=function(){var e,t,r,n,o,u,s,a,c,f,l,p,h,d;Yt++,e=Bt,(t=Yr())!==i&&(r=yn())!==i&&(n=vn())!==i&&(o=ln())!==i&&(u=on())!==i&&(s=fn())!==i&&(a=Hr())!==i&&(c=hn())!==i&&(f=en())!==i&&(l=cn())!==i&&(p=en())!==i&&(h=fn())!==i&&(d=vn())!==i?e=t=[t,r,n,o,u,s,a,c,f,l,p,h,d]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(It));return e}())!==i&&(e,t={autoIncrement:!0});return e=t}())===i&&(t=function(){var e,t;e=Bt,(t=function(){var e,t,r,n,o,u,s,a;Yt++,e=Bt,(t=fn())!==i&&(r=ln())!==i&&(n=vn())!==i&&(o=fn())!==i&&(u=yn())!==i&&(s=an())!==i&&(a=an())!==i?e=t=[t,r,n,o,u,s,a]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Qt));return e}())!==i&&(e,t={notNull:!0});return e=t}())===i&&(t=function(){var e,t,r;if(e=Bt,function(){var e,t,r,n,o,u,s,a;Yt++,e=Bt,(t=Xr())!==i&&(r=en())!==i&&(n=tn())!==i&&(o=Yr())!==i&&(u=yn())!==i&&(s=an())!==i&&(a=vn())!==i?e=t=[t,r,n,o,u,s,a]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Tt));return e}()!==i){for(t=[],r=Zr();r!==i;)t.push(r),r=Zr();t!==i&&(r=Gr())!==i?(e,e={default:r}):(Bt=e,e=i)}else Bt=e,e=i;return e}())===i&&(t=function(){var t,r;t=Bt,(r=function(){var t,r,n,o,u,s,a;Yt++,t=Bt,(r=yn())!==i&&(n=fn())!==i&&(o=on())!==i&&(u=function(){var t;Ie.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(Qe));return t}())!==i&&(s=yn())!==i&&(a=en())!==i?t=r=[r,n,o,u,s,a]:(Bt=t,t=i);Yt--,t===i&&(r=i,0===Yt&&rr(St));return t}())!==i&&(t,r={unique:!0});return t=r}())===i&&(t=function(){var e,t;e=Bt,(t=function(){var e,t,r,n,o,u,s,a,c,f,l;Yt++,e=Bt,(t=pn())!==i&&(r=hn())!==i&&(n=on())!==i&&(o=cn())!==i&&(u=Yr())!==i&&(s=hn())!==i&&(a=gn())!==i&&(c=sn())!==i&&(f=en())!==i&&(l=gn())!==i?e=t=[t,r,n,o,u,s,a,c,f,l]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Dt));return e}())!==i&&(e,t={primaryKey:!0});return e=t}())===i&&(t=function(){var e,t;e=Bt,(t=function(){var e,t,r,n,o,u,s,a,c,f,l;Yt++,e=Bt,(t=cn())!==i&&(r=yn())!==i&&(n=an())!==i&&(o=vn())!==i&&(u=on())!==i&&(s=en())!==i&&(a=fn())!==i&&(c=vn())!==i&&(f=hn())!==i&&(l=gn())!==i?e=t=[t,r,n,o,u,s,a,c,f,l]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(xt));return e}())!==i&&(e,t={multiEntry:!0});return e=t}())===i&&(t=function(){var e,t;e=Bt,(t=function(){var e,t,r,n,o,u,s,a,c,f,l,p,h;Yt++,e=Bt,(t=en())!==i&&(r=fn())!==i&&(n=Yr())!==i&&(o=$r())!==i&&(u=an())!==i&&(s=en())!==i&&(a=dn())!==i&&(c=en())!==i&&(f=Yr())!==i&&(l=hn())!==i&&(p=Hr())!==i&&(h=nn())!==i?e=t=[t,r,n,o,u,s,a,c,f,l,p,h]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(At));return e}())!==i&&(e,t={enableSearch:!0});return e=t}())===i&&(t=function(){var e,t;e=Bt,(t=function(){var e,t,r,n,o,u,s,a,c,f,l,p,h,d;Yt++,e=Bt,(t=Xr())!==i&&(r=on())!==i&&(n=dn())!==i&&(o=Yr())!==i&&(u=$r())!==i&&(s=an())!==i&&(a=en())!==i&&(c=dn())!==i&&(f=en())!==i&&(l=Yr())!==i&&(p=hn())!==i&&(h=Hr())!==i&&(d=nn())!==i?e=t=[t,r,n,o,u,s,a,c,f,l,p,h,d]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Wt));return e}())!==i&&(e,t={enableSearch:!1});return e=t}());return t}())!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();n!==i?(t,t=r=r):(Bt=t,t=i)}else Bt=t,t=i;return t}function cr(){var e,t,r;if(e=Bt,function(){var e,t,r,n,o,u,s,a;Yt++,e=Bt,(t=bn())!==i&&(r=en())!==i&&(n=hn())!==i&&(o=dn())!==i&&(u=on())!==i&&(s=ln())!==i&&(a=fn())!==i?e=t=[t,r,n,o,u,s,a]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(gt));return e}()!==i){for(t=[],r=Zr();r!==i;)t.push(r),r=Zr();t!==i&&(r=Br())!==i?(e,e={version:r}):(Bt=e,e=i)}else Bt=e,e=i;return e}function fr(){var t,r,n,o;if(t=Bt,44===e.charCodeAt(Bt)?(r=",",Bt++):(r=i,0===Yt&&rr(f)),r!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();n!==i&&(o=lr())!==i?(t,t=r=o):(Bt=t,t=i)}else Bt=t,t=i;return t}function lr(){var t,r,n,o,u,s;if(t=Bt,(r=Mr())!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();if(n!==i)if(58===e.charCodeAt(Bt)?(o=":",Bt++):(o=i,0===Yt&&rr(h)),o!==i){for(u=[],s=Zr();s!==i;)u.push(s),s=Zr();u!==i&&(s=Gr())!==i?(t,t=r={key:r,value:s}):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;return t}function pr(){var e,t,r,n;if(e=Bt,(t=function(){var e,t;e=Bt,(t=function(){var e,t,r,n,o,u,s,a,c,f,l,p,h,d;Yt++,e=Bt,(t=dn())!==i&&(r=sn())!==i&&(n=on())!==i&&(o=pn())!==i&&(u=Xr())!==i&&(s=Yr())!==i&&(a=vn())!==i&&(c=Yr())!==i&&(f=Hr())!==i&&(l=nn())!==i&&(p=en())!==i&&(h=Hr())!==i&&(d=sn())!==i?e=t=[t,r,n,o,u,s,a,c,f,l,p,h,d]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(yt));return e}())!==i&&(e,t="skipDataCheck");return e=t}())===i&&(t=function(){var e,t;e=Bt,(t=function(){var e,t,r,n,o,u,s;Yt++,e=Bt,(t=hn())!==i&&(r=en())!==i&&(n=vn())!==i&&(o=yn())!==i&&(u=hn())!==i&&(s=fn())!==i?e=t=[t,r,n,o,u,s]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(dt));return e}())!==i&&(e,t="return");return e=t}())===i&&(t=function(){var e,t;e=Bt,(t=function(){var e,t,r,n,o,u,s;Yt++,e=Bt,(t=yn())!==i&&(r=pn())!==i&&(n=dn())!==i&&(o=en())!==i&&(u=hn())!==i&&(s=vn())!==i?e=t=[t,r,n,o,u,s]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Kt));return e}())!==i&&(e,t="upsert");return e=t}()),t!==i){for(r=[],n=Zr();n!==i;)r.push(n),n=Zr();r!==i?(e,e=t={[t]:!0}):(Bt=e,e=i)}else Bt=e,e=i;return e}function hr(){var t,r,n,o,u,s,a,c;if(t=Bt,(r=Mr())!==i)if(46===e.charCodeAt(Bt)?(n=".",Bt++):(n=i,0===Yt&&rr(y)),n!==i)if((o=Mr())!==i){if(u=[],(s=Zr())!==i)for(;s!==i;)u.push(s),s=Zr();else u=i;if(u!==i)if((s=function(){var e,t,r;Yt++,e=Bt,(t=Yr())!==i&&(r=dn())!==i?e=t=[t,r]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Vt));return e}())!==i){if(a=[],(c=Zr())!==i)for(;c!==i;)a.push(c),c=Zr();else a=i;a!==i&&(c=Mr())!==i?(t,t=r={table:r,column:o,alias:c}):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i;return t}function dr(){var t,r,n,o,u;for(t=Bt,r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i)if(44===e.charCodeAt(Bt)?(n=",",Bt++):(n=i,0===Yt&&rr(f)),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();o!==i&&(u=hr())!==i?(t,t=r=u):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i;return t}function vr(){var t,r,n,o,u,s;if(t=Bt,44===e.charCodeAt(Bt)?(r=",",Bt++):(r=i,0===Yt&&rr(f)),r!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();if(n!==i)if((o=yr())!==i){for(u=[],s=Zr();s!==i;)u.push(s),s=Zr();u!==i?(t,t=r=o):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;return t}function yr(){var t;return(t=function(){var t,r,n,o,u,s,f,l,p;if(t=Bt,function(){var e,t,r,n;Yt++,e=Bt,(t=cn())!==i&&(r=on())!==i&&(n=fn())!==i?e=t=[t,r,n]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Ze));return e}()!==i){for(r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i)if(40===e.charCodeAt(Bt)?(n="(",Bt++):(n=i,0===Yt&&rr(a)),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if((u=Mr())!==i){for(s=[],f=Zr();f!==i;)s.push(f),f=Zr();if(s!==i){for(f=[],l=Qr();l!==i;)f.push(l),l=Qr();if(f!==i){for(l=[],p=Zr();p!==i;)l.push(p),p=Zr();l!==i?(41===e.charCodeAt(Bt)?(p=")",Bt++):(p=i,0===Yt&&rr(c)),p!==i?(t,h=u,(d=f).splice(0,0,h),t={min:d}):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;var h,d;return t}())===i&&(t=function(){var t,r,n,o,u,s,f,l,p;if(t=Bt,function(){var e,t,r,n;Yt++,e=Bt,(t=cn())!==i&&(r=Yr())!==i&&(n=mn())!==i?e=t=[t,r,n]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Ye));return e}()!==i){for(r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i)if(40===e.charCodeAt(Bt)?(n="(",Bt++):(n=i,0===Yt&&rr(a)),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if((u=Mr())!==i){for(s=[],f=Zr();f!==i;)s.push(f),f=Zr();if(s!==i){for(f=[],l=Qr();l!==i;)f.push(l),l=Qr();if(f!==i){for(l=[],p=Zr();p!==i;)l.push(p),p=Zr();l!==i?(41===e.charCodeAt(Bt)?(p=")",Bt++):(p=i,0===Yt&&rr(c)),p!==i?(t,h=u,(d=f).splice(0,0,h),t={max:d}):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;var h,d;return t}())===i&&(t=function(){var t,r,n,o,u,s,f,l,p;if(t=Bt,function(){var e,t,r,n;Yt++,e=Bt,(t=Yr())!==i&&(r=bn())!==i&&(n=rn())!==i?e=t=[t,r,n]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr($e));return e}()!==i){for(r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i)if(40===e.charCodeAt(Bt)?(n="(",Bt++):(n=i,0===Yt&&rr(a)),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if((u=Mr())!==i){for(s=[],f=Zr();f!==i;)s.push(f),f=Zr();if(s!==i){for(f=[],l=Qr();l!==i;)f.push(l),l=Qr();if(f!==i){for(l=[],p=Zr();p!==i;)l.push(p),p=Zr();l!==i?(41===e.charCodeAt(Bt)?(p=")",Bt++):(p=i,0===Yt&&rr(c)),p!==i?(t,h=u,(d=f).splice(0,0,h),t={avg:d}):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;var h,d;return t}())===i&&(t=function(){var t,r,n,o,u,s,f,l,p;if(t=Bt,An()!==i){for(r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i)if(40===e.charCodeAt(Bt)?(n="(",Bt++):(n=i,0===Yt&&rr(a)),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if((u=Mr())!==i){for(s=[],f=Zr();f!==i;)s.push(f),f=Zr();if(s!==i){for(f=[],l=Qr();l!==i;)f.push(l),l=Qr();if(f!==i){for(l=[],p=Zr();p!==i;)l.push(p),p=Zr();l!==i?(41===e.charCodeAt(Bt)?(p=")",Bt++):(p=i,0===Yt&&rr(c)),p!==i?(t,h=u,(d=f).splice(0,0,h),t={count:d}):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;var h,d;return t}())===i&&(t=function(){var t,r,n,o,u,s,f,l,p;if(t=Bt,function(){var e,t,r,n;Yt++,e=Bt,(t=dn())!==i&&(r=yn())!==i&&(n=cn())!==i?e=t=[t,r,n]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Xe));return e}()!==i){for(r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i)if(40===e.charCodeAt(Bt)?(n="(",Bt++):(n=i,0===Yt&&rr(a)),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if((u=Mr())!==i){for(s=[],f=Zr();f!==i;)s.push(f),f=Zr();if(s!==i){for(f=[],l=Qr();l!==i;)f.push(l),l=Qr();if(f!==i){for(l=[],p=Zr();p!==i;)l.push(p),p=Zr();l!==i?(41===e.charCodeAt(Bt)?(p=")",Bt++):(p=i,0===Yt&&rr(c)),p!==i?(t,h=u,(d=f).splice(0,0,h),t={sum:d}):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;var h,d;return t}()),t}function br(){var e,t,r,n,o,u;if(e=Bt,function(){var e,t,r,n,o,u;Yt++,e=Bt,(t=rn())!==i&&(r=hn())!==i&&(n=ln())!==i&&(o=yn())!==i&&(u=pn())!==i?e=t=[t,r,n,o,u]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(at));return e}()!==i)if(Zr()!==i)if(xn()!==i)if(Zr()!==i)if((t=Mr())!==i){for(r=[],n=_r();n!==i;)r.push(n),n=_r();if(r!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();n!==i?(e,u=r,e={groupBy:[t,...u]}):(Bt=e,e=i)}else Bt=e,e=i}else Bt=e,e=i;else Bt=e,e=i;else Bt=e,e=i;else Bt=e,e=i;else Bt=e,e=i;return e}function _r(){var t,r,n,o,u,s,a;for(t=Bt,r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i)if(44===e.charCodeAt(Bt)?(n=",",Bt++):(n=i,0===Yt&&rr(f)),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if((u=Mr())!==i){for(s=[],a=Zr();a!==i;)s.push(a),a=Zr();s!==i?(t,t=r=u):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i;return t}function mr(){var e,t,r,n,o,u;if(e=Bt,function(){var e,t,r,n,o,u;Yt++,e=Bt,(t=ln())!==i&&(r=hn())!==i&&(n=Xr())!==i&&(o=en())!==i&&(u=hn())!==i?e=t=[t,r,n,o,u]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(ot));return e}()!==i)if(Zr()!==i)if(xn()!==i)if(Zr()!==i)if((t=Ar())!==i){for(r=[],n=gr();n!==i;)r.push(n),n=gr();r!==i?(e,o=t,(u=r).unshift(o),e={order:u}):(Bt=e,e=i)}else Bt=e,e=i;else Bt=e,e=i;else Bt=e,e=i;else Bt=e,e=i;else Bt=e,e=i;return e}function gr(){var t,r,n,o,u;for(t=Bt,r=[],n=Zr();n!==i;)r.push(n),n=Zr();if(r!==i)if(44===e.charCodeAt(Bt)?(n=",",Bt++):(n=i,0===Yt&&rr(f)),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();o!==i&&(u=Ar())!==i?(t,t=r=u):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i;return t}function Ar(){var t,r,n;return t=Bt,(r=Mr())!==i?((n=function(){var t,r,n,o;if(t=Bt,Zr()!==i)if((r=function(){var t;Yt++,"asc"===e.substr(Bt,3)?(t="asc",Bt+=3):(t=i,0===Yt&&rr(P));t===i&&("desc"===e.substr(Bt,4)?(t="desc",Bt+=4):(t=i,0===Yt&&rr(L)));Yt--,t===i&&(i,0===Yt&&rr(j));return t}())!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();n!==i?(t,t=r):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i;return t}())===i&&(n=null),n!==i?(t,t=r={by:r,type:n}):(Bt=t,t=i)):(Bt=t,t=i),t}function xr(){var e,t;return e=Bt,function(){var e,t,r,n,o,u,s,a,c;Yt++,e=Bt,(t=Xr())!==i&&(r=on())!==i&&(n=dn())!==i&&(o=vn())!==i&&(u=on())!==i&&(s=fn())!==i&&(a=Hr())!==i&&(c=vn())!==i?e=t=[t,r,n,o,u,s,a,c]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(it));return e}()!==i?((t=Zr())===i&&(t=null),t!==i?(e,e={distinct:!0}):(Bt=e,e=i)):(Bt=e,e=i),e}function Dr(){var e,t,r;return e=Bt,function(){var e,t,r,n,o;Yt++,e=Bt,(t=dn())!==i&&(r=sn())!==i&&(n=on())!==i&&(o=pn())!==i?e=t=[t,r,n,o]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(ft));return e}()!==i&&Zr()!==i&&(t=Br())!==i?((r=Zr())===i&&(r=null),r!==i?(e,e={skip:t}):(Bt=e,e=i)):(Bt=e,e=i),e}function Sr(){var e,t,r;return e=Bt,function(){var e,t,r,n,o,u;Yt++,e=Bt,(t=an())!==i&&(r=on())!==i&&(n=cn())!==i&&(o=on())!==i&&(u=vn())!==i?e=t=[t,r,n,o,u]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(ct));return e}()!==i&&Zr()!==i&&(t=Br())!==i?((r=Zr())===i&&(r=null),r!==i?(e,e={limit:t}):(Bt=e,e=i)):(Bt=e,e=i),e}function qr(){var e,t;return e=Bt,function(){var e,t,r,n,o,u;Yt++,e=Bt,(t=_n())!==i&&(r=nn())!==i&&(n=en())!==i&&(o=hn())!==i&&(u=en())!==i?e=t=[t,r,n,o,u]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(lt));return e}()!==i&&Zr()!==i&&(t=function(){var e,t,r,n;e=Bt,(t=wr())===i&&(t=Cr());if(t!==i){for(r=[],n=Er();n!==i;)r.push(n),n=Er();r!==i?(e,t=function(e,t){if(Array.isArray(e)||(e=[e]),null!=t){var r=t=>{e.push(t)};Array.isArray(e)&&t.forEach(e=>{Array.isArray(e)?e.forEach(e=>{r(e)}):r(e)})}return e}(t,r),e=t):(Bt=e,e=i)}else Bt=e,e=i;return e}())!==i?(e,e=t):(Bt=e,e=i),e}function Er(){var e,t,r,n;if(e=Bt,Zr()!==i)if((t=Ur())!==i){for(r=[],n=Zr();n!==i;)r.push(n),n=Zr();r!==i?((n=wr())===i&&(n=Cr()),n!==i?(e,e=function(e,t){if("||"===e){var r={};return Array.isArray(t)?t.forEach(e=>{r={...r,...e}}):r=t,{or:r}}return t}(t,n)):(Bt=e,e=i)):(Bt=e,e=i)}else Bt=e,e=i;else Bt=e,e=i;return e}function wr(){var e,t,r,n,o,u;if(e=Bt,(t=Or())!==i){for(r=[],n=kr();n!==i;)r.push(n),n=kr();r!==i?(e,o=t,e=t=null==(u=r)?o:(u.splice(0,0,o),u)):(Bt=e,e=i)}else Bt=e,e=i;return e}function Cr(){var t,r,n,o,u,s,f;if(t=Bt,40===e.charCodeAt(Bt)?(r="(",Bt++):(r=i,0===Yt&&rr(a)),r!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();if(n!==i)if((o=Or())!==i){for(u=[],s=kr();s!==i;)u.push(s),s=kr();if(u!==i){for(s=[],f=Zr();f!==i;)s.push(f),f=Zr();s!==i?(41===e.charCodeAt(Bt)?(f=")",Bt++):(f=i,0===Yt&&rr(c)),f!==i?(t,t=r=function(e,t){if(null==t)return e;var r=e;return t.forEach(e=>{var t=Object.keys(e)[0];if("or"===t){null==r.or&&(r.or={});var n=Object.keys(e[t])[0];r.or[n]=e[t][n]}else r[t]=e[t]}),r}(o,u)):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;return t}function kr(){var e,t,r,n;return e=Bt,Zr()!==i&&(t=Ur())!==i&&Zr()!==i&&(r=Or())!==i?(e,n=r,e="&&"===t?n:n.table?(n.query={or:n.query},n):{or:n}):(Bt=e,e=i),e}function Or(){var t;return(t=Ir())===i&&(t=function(){var t,r,n,o,u,s,a;if(t=Bt,(r=Mr())!==i)if((n=jr())===i&&(n=null),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if((u=function(){var e,t,r,n,o;Yt++,e=Bt,(t=an())!==i&&(r=on())!==i&&(n=sn())!==i&&(o=en())!==i?e=t=[t,r,n,o]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(rt));return e}())!==i){for(s=[],a=Zr();a!==i;)s.push(a),a=Zr();s!==i&&(a=function(){var t;(t=function(){var t,r,n,o,u,s;t=Bt,"'%"===e.substr(Bt,2)?(r="'%",Bt+=2):(r=i,0===Yt&&rr(S));if(r!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();if(n!==i)if((o=Vr())!==i){for(u=[],s=Zr();s!==i;)u.push(s),s=Zr();u!==i?("%'"===e.substr(Bt,2)?(s="%'",Bt+=2):(s=i,0===Yt&&rr(q)),s!==i?(t,t=r="%"+o+"%"):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;return t}())===i&&(t=function(){var t,r,n,o,u;t=Bt,"'%"===e.substr(Bt,2)?(r="'%",Bt+=2):(r=i,0===Yt&&rr(S));if(r!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();n!==i&&(o=Vr())!==i?(39===e.charCodeAt(Bt)?(u="'",Bt++):(u=i,0===Yt&&rr(E)),u!==i?(t,t=r="%"+o):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i;return t}())===i&&(t=function(){var t,r,n,o,u;t=Bt,39===e.charCodeAt(Bt)?(r="'",Bt++):(r=i,0===Yt&&rr(E));if(r!==i)if((n=Vr())!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();o!==i?("%'"===e.substr(Bt,2)?(u="%'",Bt+=2):(u=i,0===Yt&&rr(q)),u!==i?(t,t=r=n+"%"):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i;return t}());return t}())!==i?(t,c=r,l=a,t=r=null==(f=n)?{[c]:{like:l}}:{table:c,query:{[f]:{like:l}}}):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i;var c,f,l;return t}())===i&&(t=function(){var t,r,n,o,u,s,f,l,p,h,d,v;if(t=Bt,(r=Mr())!==i)if((n=jr())===i&&(n=null),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if((u=function(){var e,t,r;Yt++,e=Bt,(t=on())!==i&&(r=fn())!==i?e=t=[t,r]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(tt));return e}())!==i){for(s=[],f=Zr();f!==i;)s.push(f),f=Zr();if(s!==i)if(40===e.charCodeAt(Bt)?(f="(",Bt++):(f=i,0===Yt&&rr(a)),f!==i){for(l=[],p=Zr();p!==i;)l.push(p),p=Zr();if(l!==i)if((p=Gr())!==i){for(h=[],d=Zr();d!==i;)h.push(d),d=Zr();if(h!==i){for(d=[],v=Tr();v!==i;)d.push(v),v=Tr();d!==i?(41===e.charCodeAt(Bt)?(v=")",Bt++):(v=i,0===Yt&&rr(c)),v!==i?(t,y=r,_=p,m=d,r=null==(b=n)?{[y]:{in:[_,...m]}}:{table:y,query:{[b]:{in:[_,...m]}}},t=r):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i;var y,b,_,m;return t}())===i&&(t=function(){var t,r,n,o,u,s,a;if(t=Bt,(r=Mr())!==i)if((n=jr())===i&&(n=null),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if("!="===e.substr(Bt,2)?(u="!=",Bt+=2):(u=i,0===Yt&&rr(m)),u===i&&(">="===e.substr(Bt,2)?(u=">=",Bt+=2):(u=i,0===Yt&&rr(g)),u===i&&("<="===e.substr(Bt,2)?(u="<=",Bt+=2):(u=i,0===Yt&&rr(A)),u===i&&(62===e.charCodeAt(Bt)?(u=">",Bt++):(u=i,0===Yt&&rr(x)),u===i&&(60===e.charCodeAt(Bt)?(u="<",Bt++):(u=i,0===Yt&&rr(D)))))),u!==i){for(s=[],a=Zr();a!==i;)s.push(a),a=Zr();s!==i&&(a=Gr())!==i?(t,c=r,l=u,p=a,t=r=null==(f=n)?{[c]:{[l]:p}}:{table:c,query:{[f]:{[l]:p}}}):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i;var c,f,l,p;return t}())===i&&(t=function(){var t,r,n,o,u,s,l,p,h,d,v,y,b,_,m;if(t=Bt,(r=Mr())!==i)if((n=jr())===i&&(n=null),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if((u=function(){var e,t,r,n,o,u,s,a;Yt++,e=Bt,(t=$r())!==i&&(r=en())!==i&&(n=vn())!==i&&(o=_n())!==i&&(u=en())!==i&&(s=en())!==i&&(a=fn())!==i?e=t=[t,r,n,o,u,s,a]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(et));return e}())!==i){for(s=[],l=Zr();l!==i;)s.push(l),l=Zr();if(s!==i)if(40===e.charCodeAt(Bt)?(l="(",Bt++):(l=i,0===Yt&&rr(a)),l!==i){for(p=[],h=Zr();h!==i;)p.push(h),h=Zr();if(p!==i)if((h=Gr())!==i){for(d=[],v=Zr();v!==i;)d.push(v),v=Zr();if(d!==i)if(44===e.charCodeAt(Bt)?(v=",",Bt++):(v=i,0===Yt&&rr(f)),v!==i){for(y=[],b=Zr();b!==i;)y.push(b),b=Zr();if(y!==i)if((b=Gr())!==i){for(_=[],m=Zr();m!==i;)_.push(m),m=Zr();_!==i?(41===e.charCodeAt(Bt)?(m=")",Bt++):(m=i,0===Yt&&rr(c)),m!==i?(t,g=r,x=h,D=b,t=r=null==(A=n)?{[g]:{"-":{low:x,high:D}}}:{table:g,query:{[A]:{"-":{low:x,high:D}}}}):(Bt=t,t=i)):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i;var g,A,x,D;return t}()),t}function Ir(){var t,r,n,o,u,s,a,c,f,l;if(t=Bt,(r=Mr())!==i)if((n=jr())===i&&(n=null),n!==i){for(o=[],u=Zr();u!==i;)o.push(u),u=Zr();if(o!==i)if(61===e.charCodeAt(Bt)?(u="=",Bt++):(u=i,0===Yt&&rr(d)),u!==i){for(s=[],a=Zr();a!==i;)s.push(a),a=Zr();s!==i&&(a=Gr())!==i?(t,c=r,l=a,t=r=null==(f=n)?{[c]:l}:{table:c,query:{[f]:l}}):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i;return t}function Qr(){var t,r,n,o,u,s;if(t=Bt,44===e.charCodeAt(Bt)?(r=",",Bt++):(r=i,0===Yt&&rr(f)),r!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();if(n!==i)if((o=Mr())!==i){for(u=[],s=Zr();s!==i;)u.push(s),s=Zr();u!==i?(t,t=r=o):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;return t}function Tr(){var t,r,n,o,u,s;if(t=Bt,44===e.charCodeAt(Bt)?(r=",",Bt++):(r=i,0===Yt&&rr(f)),r!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();if(n!==i)if((o=Gr())!==i){for(u=[],s=Zr();s!==i;)u.push(s),s=Zr();u!==i?(t,t=r=o):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;return t}function jr(){var t,r,n;return t=Bt,46===e.charCodeAt(Bt)?(r=".",Bt++):(r=i,0===Yt&&rr(y)),r!==i&&(n=Mr())!==i?(t,t=r=n):(Bt=t,t=i),t}function Pr(){var t,r,n,o,u,s,a,c,f,l,p,h,v;if(t=Bt,(r=function(){var e,t,r,n;e=Bt,(t=function(){var e,t,r,n,o,u;Yt++,e=Bt,(t=on())!==i&&(r=fn())!==i&&(n=fn())!==i&&(o=en())!==i&&(u=hn())!==i?e=t=[t,r,n,o,u]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Gt));return e}())===i&&(t=function(){var e,t,r,n,o;Yt++,e=Bt,(t=an())!==i&&(r=en())!==i&&(n=tn())!==i&&(o=vn())!==i?e=t=[t,r,n,o]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Ft));return e}());if(t!==i){if(r=[],(n=Zr())!==i)for(;n!==i;)r.push(n),n=Zr();else r=i;r!==i?(e,t=null==(o=t)?null:o.join(""),e=t):(Bt=e,e=i)}else Bt=e,e=i;var o;return e}())===i&&(r=null),r!==i)if(function(){var e,t,r,n,o;Yt++,e=Bt,(t=un())!==i&&(r=ln())!==i&&(n=on())!==i&&(o=fn())!==i?e=t=[t,r,n,o]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Mt));return e}()!==i){if(n=[],(o=Zr())!==i)for(;o!==i;)n.push(o),o=Zr();else n=i;if(n!==i)if((o=Nr())!==i){if(u=[],(s=Zr())!==i)for(;s!==i;)u.push(s),s=Zr();else u=i;if(u!==i)if((s=function(){var e,t,r;Yt++,e=Bt,(t=ln())!==i&&(r=fn())!==i?e=t=[t,r]:(Bt=e,e=i);Yt--,e===i&&(t=i,0===Yt&&rr(Ut));return e}())!==i){if(a=[],(c=Zr())!==i)for(;c!==i;)a.push(c),c=Zr();else a=i;if(a!==i)if((c=Lr())!==i){for(f=[],l=Zr();l!==i;)f.push(l),l=Zr();if(f!==i)if(61===e.charCodeAt(Bt)?(l="=",Bt++):(l=i,0===Yt&&rr(d)),l!==i)if((p=Lr())!==i){for(h=[],v=Zr();v!==i;)h.push(v),v=Zr();h!==i?(t,t=r={with:o,on:`${c}=${p}`,type:r}):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;else Bt=t,t=i;return t}function Lr(){var t,r,n;if(Yt++,t=Bt,r=[],C.test(e.charAt(Bt))?(n=e.charAt(Bt),Bt++):(n=i,0===Yt&&rr(k)),n!==i)for(;n!==i;)r.push(n),C.test(e.charAt(Bt))?(n=e.charAt(Bt),Bt++):(n=i,0===Yt&&rr(k));else r=i;return r!==i&&(t,r=O(r)),Yt--,(t=r)===i&&(r=i,0===Yt&&rr(w)),t}function Rr(){var t,r,n,o,u,s;if(t=Bt,44===e.charCodeAt(Bt)?(r=",",Bt++):(r=i,0===Yt&&rr(f)),r!==i){for(n=[],o=Zr();o!==i;)n.push(o),o=Zr();if(n!==i)if((o=Ir())!==i){for(u=[],s=Zr();s!==i;)u.push(s),s=Zr();u!==i?(t,t=r=o):(Bt=t,t=i)}else Bt=t,t=i;else Bt=t,t=i}else Bt=t,t=i;return t}function Nr(){var e;return Yt++,e=Fr(),Yt--,e===i&&(i,0===Yt&&rr(I)),e}function Wr(){var e;return Yt++,e=Fr(),Yt--,e===i&&(i,0===Yt&&rr(Q)),e}function Mr(){var e;return Yt++,e=Fr(),Yt--,e===i&&(i,0===Yt&&rr(T)),e}function Ur(){var t;return(t=function(){var t;"&&"===e.substr(Bt,2)?(t="&&",Bt+=2):(t=i,0===Yt&&rr(R));return t}())===i&&(t=function(){var t;"||"===e.substr(Bt,2)?(t="||",Bt+=2):(t=i,0===Yt&&rr(N));return t}()),t}function Gr(){var t,r;return Yt++,t=Bt,(r=function(){var t,r,n,o;t=Bt,39===e.charCodeAt(Bt)?(r="'",Bt++):(r=i,0===Yt&&rr(E));r!==i&&(n=Vr())!==i?(39===e.charCodeAt(Bt)?(o="'",Bt++):(o=i,0===Yt&&rr(E)),o!==i?(t,t=r=n):(Bt=t,t=i)):(Bt=t,t=i);return t}())===i&&(r=Br()),r!==i&&(t,r=r),Yt--,(t=r)===i&&(r=i,0===Yt&&rr(W)),t}function Fr(){var t,r,n;if(Yt++,t=Bt,r=[],U.test(e.charAt(Bt))?(n=e.charAt(Bt),Bt++):(n=i,0===Yt&&rr(G)),n!==i)for(;n!==i;)r.push(n),U.test(e.charAt(Bt))?(n=e.charAt(Bt),Bt++):(n=i,0===Yt&&rr(G));else r=i;return r!==i&&(t,r=O(r)),Yt--,(t=r)===i&&(r=i,0===Yt&&rr(M)),t}function Vr(){var e,t,r;if(Yt++,e=Bt,t=[],(r=Kr())!==i)for(;r!==i;)t.push(r),r=Kr();else t=i;return t!==i&&(e,t=t.join("")),Yt--,(e=t)===i&&(t=i,0===Yt&&rr(F)),e}function Kr(){var t;return V.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(K)),t}function Br(){var e,t,r;if(Yt++,e=Bt,t=[],(r=Jr())!==i)for(;r!==i;)t.push(r),r=Jr();else t=i;return t!==i&&(e,t=Number(t.join(""))),Yt--,(e=t)===i&&(t=i,0===Yt&&rr(B)),e}function Jr(){var t;return J.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(z)),t}function zr(){var t;return Yt++,Y.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr($)),Yt--,t===i&&(i,0===Yt&&rr(Z)),t}function Zr(){var e,t,r;if(Yt++,e=Bt,t=[],(r=zr())!==i)for(;r!==i;)t.push(r),r=zr();else t=i;return t!==i&&(e,t=null),Yt--,(e=t)===i&&(t=i,0===Yt&&rr(H)),e}function Yr(){var t;return X.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(ee)),t}function $r(){var t;return te.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(re)),t}function Hr(){var t;return ne.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(ie)),t}function Xr(){var t;return oe.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(ue)),t}function en(){var t;return se.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(ae)),t}function tn(){var t;return ce.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(fe)),t}function rn(){var t;return le.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(pe)),t}function nn(){var t;return he.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(de)),t}function on(){var t;return ve.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(ye)),t}function un(){var t;return be.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(_e)),t}function sn(){var t;return me.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(ge)),t}function an(){var t;return Ae.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(xe)),t}function cn(){var t;return De.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(Se)),t}function fn(){var t;return qe.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(Ee)),t}function ln(){var t;return we.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(Ce)),t}function pn(){var t;return ke.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(Oe)),t}function hn(){var t;return Te.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(je)),t}function dn(){var t;return Pe.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(Le)),t}function vn(){var t;return Re.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(Ne)),t}function yn(){var t;return We.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(Me)),t}function bn(){var t;return Ue.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(Ge)),t}function _n(){var t;return Fe.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(Ve)),t}function mn(){var t;return Ke.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(Be)),t}function gn(){var t;return Je.test(e.charAt(Bt))?(t=e.charAt(Bt),Bt++):(t=i,0===Yt&&rr(ze)),t}function An(){var e,t,r,n,o,u;return Yt++,e=Bt,(t=Hr())!==i&&(r=ln())!==i&&(n=yn())!==i&&(o=fn())!==i&&(u=vn())!==i?e=t=[t,r,n,o,u]:(Bt=e,e=i),Yt--,e===i&&(t=i,0===Yt&&rr(He)),e}function xn(){var e,t,r;return Yt++,e=Bt,(t=$r())!==i&&(r=gn())!==i?e=t=[t,r]:(Bt=e,e=i),Yt--,e===i&&(t=i,0===Yt&&rr(ut)),e}function Dn(){var e,t,r,n,o;return Yt++,e=Bt,(t=tn())!==i&&(r=hn())!==i&&(n=ln())!==i&&(o=cn())!==i?e=t=[t,r,n,o]:(Bt=e,e=i),Yt--,e===i&&(t=i,0===Yt&&rr(st)),e}function Sn(){var e,t,r,n,o,u,s;return Yt++,e=Bt,(t=Xr())!==i&&(r=en())!==i&&(n=tn())!==i&&(o=on())!==i&&(u=fn())!==i&&(s=en())!==i?e=t=[t,r,n,o,u,s]:(Bt=e,e=i),Yt--,e===i&&(t=i,0===Yt&&rr(jt)),e}function qn(){var e,t,r,n,o,u;return Yt++,e=Bt,(t=vn())!==i&&(r=Yr())!==i&&(n=$r())!==i&&(o=an())!==i&&(u=en())!==i?e=t=[t,r,n,o,u]:(Bt=e,e=i),Yt--,e===i&&(t=i,0===Yt&&rr(Pt)),e}if((r=u())!==i&&Bt===e.length)return r;throw r!==i&&Bt<e.length&&rr({type:"end"}),nr(Zt,zt<e.length?e.charAt(zt):null,zt<e.length?tr(zt,zt+1):tr(zt,zt))}}},function(e,t,r){"use strict";r.r(t),r.d(t,"LogHelper",(function(){return o}));var n=r(5),i=r(6),o=function(){function e(e,t){this.type=e,this.info_=t,this.message=this.getMsg_()}return e.log=function(e){i.Config.isLogEnabled&&console.log(e)},e.prototype.logError=function(){console.error(this.get())},e.prototype.logWarning=function(){console.warn(this.get())},e.prototype.get=function(){return{message:this.message,type:this.type}},e.prototype.getMsg_=function(){var e;switch(this.type){case n.ERROR_TYPE.SynTaxError:e=this.info_;break;default:e=this.message}return e},e}()},function(e,t,r){"use strict";var n;r.r(t),r.d(t,"ERROR_TYPE",(function(){return n})),function(e){e.SynTaxError="syntax_error"}(n||(n={}))},function(e,t,r){"use strict";r.r(t),r.d(t,"Config",(function(){return n}));var n=function(){function e(){}return e.isLogEnabled=!1,e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"Query",(function(){return i}));var n=r(2),i=function(){function e(e){this.topLevelKeys_=["skip","limit"],this.query_=this.parseSql_(e)}return e.prototype.map=function(e,t){var r=JSON.stringify(this.query_);this.query_=this.parseJson_(r.replace('"'+e+'"',JSON.stringify(t)))},e.prototype.parseJson_=function(e){return n.Util.parseJson(e)},e.prototype.parseSql_=function(e){return n.Util.parseSql(e)},e}()}])},tq5t:function(e,t){
/*!
 * @license :jsstore - V3.13.5 - 06/04/2021
 * https://github.com/ujjwalguptaofficial/JsStore
 * Copyright (c) 2021 @Ujjwal Gupta; Licensed MIT
 */
e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([,function(e,t,r){"use strict";var n,i,o,u,s,a,c,f,l;r.r(t),r.d(t,"Instance",(function(){return _})),r.d(t,"Connection",(function(){return b})),r.d(t,"Config",(function(){return h})),r.d(t,"enableLog",(function(){return m})),r.d(t,"DATA_TYPE",(function(){return o})),function(e){e.WorkerNotSupplied="worker_not_supplied",e.IndexedDbUndefined="indexeddb_undefined",e.UndefinedColumn="undefined_column",e.UndefinedValue="undefined_value",e.UndefinedColumnName="undefined_column_name",e.UndefinedDbName="undefined_database_name",e.UndefinedColumnValue="undefined_column_value",e.NotArray="not_array",e.NoValueSupplied="no_value_supplied",e.ColumnNotExist="column_not_exist",e.EnableSearchOff="enable_search_off",e.InvalidOp="invalid_operator",e.NullValue="null_value",e.WrongDataType="wrong_data_type",e.TableNotExist="table_not_exist",e.DbNotExist="db_not_exist",e.ConnectionAborted="connection_aborted",e.ConnectionClosed="connection_closed",e.NotObject="not_object",e.InvalidConfig="invalid_config",e.DbBlocked="Db_blocked",e.IndexedDbNotSupported="indexeddb_not_supported",e.NullValueInWhere="null_value_in_where",e.InvalidJoinQuery="invalid_join_query",e.InvalidOrderQuery="invalid_order_query",e.InvalidQuery="invalid_query",e.InvalidGroupQuery="invalid_group_query",e.ImportScriptsFailed="import_scripts_failed",e.MethodNotExist="method_not_exist"}(n||(n={})),function(e){e.Registered="registerd",e.Failed="failed",e.NotStarted="not_started"}(i||(i={})),function(e){e.String="string",e.Object="object",e.Array="array",e.Number="number",e.Boolean="boolean",e.Null="null",e.DateTime="date_time"}(o||(o={})),function(e){e.InitDb="init_db",e.IsDbExist="is_db_exist",e.GetDbVersion="get_db_version",e.GetDbList="get_db_list",e.Get="get",e.Set="set",e.Select="select",e.Insert="insert",e.Update="update",e.Remove="remove",e.GetDbSchema="get_db_schema",e.OpenDb="open_db",e.Clear="clear",e.DropDb="drop_db",e.Count="count",e.ChangeLogStatus="change_log_status",e.Terminate="terminate",e.Transaction="transaction",e.InitKeyStore="init_keystore",e.CloseDb="close_db",e.Union="union",e.Intersect="intersect",e.ImportScripts="import_scripts"}(u||(u={})),function(e){e.RequestQueueEmpty="requestQueueEmpty",e.RequestQueueFilled="requestQueueFilled"}(s||(s={})),function(e){e.Where="where",e.Like="like",e.Regex="regex",e.In="in",e.Equal="=",e.Between="-",e.GreaterThan=">",e.LessThan="<",e.GreaterThanEqualTo=">=",e.LessThanEqualTo="<=",e.NotEqualTo="!=",e.Aggregate="aggregate",e.Max="max",e.Min="min",e.Avg="avg",e.Count="count",e.Sum="sum",e.Or="or",e.Skip="skip",e.Limit="limit",e.And="and",e.IgnoreCase="ignoreCase",e.Then="then"}(a||(a={})),function(e){e.ReadOnly="readonly",e.ReadWrite="readwrite"}(c||(c={})),function(e){e.First="f",e.Last="l",e.Any="a"}(f||(f={})),function(e){e.Connected="connected",e.Closed="closed",e.NotStarted="not_started",e.UnableToStart="unable_to_start",e.ClosedByJsStore="closed_by_jsstore"}(l||(l={}));var p,h=function(){function e(){}return e.isLogEnabled=!1,e.isRuningInWorker=!0,e}(),d=function(){function e(e,t){void 0===t&&(t=null),this.type=e,this._info=t,this.message=this.getMsg()}return e.prototype.throw=function(){throw this.get()},e.log=function(e){h.isLogEnabled&&console.log(e)},e.prototype.logError=function(){console.error(this.get())},e.prototype.logWarning=function(){console.warn(this.get())},e.prototype.get=function(){return{message:this.message,type:this.type}},e.prototype.getMsg=function(){var e;switch(this.type){case n.WorkerNotSupplied:e="Worker object is not passed in instance constructor";break;case n.IndexedDbUndefined:e="Browser does not support indexeddb";break;default:e=this.message}return e},e}(),v=function(){function e(e){this.isDbOpened_=!1,this.isDbIdle_=!0,this.requestQueue_=[],this.isCodeExecuting_=!1,this.inactivityTimer_=-1e3,this.eventQueue=[],this.middlewares=[],this.whiteListApi_=[u.InitDb,u.IsDbExist,u.GetDbVersion,u.GetDbList,u.OpenDb,u.GetDbSchema,u.Get,u.Set,u.ChangeLogStatus,u.Terminate,u.InitKeyStore],e?(this.worker_=e,this.worker_.onmessage=this.onMessageFromWorker_.bind(this)):h.isRuningInWorker=!1}return e.prototype.initKeyStore_=function(){h.isRuningInWorker?this.prcoessExecutionOfQry_({name:u.InitKeyStore,onSuccess:function(){},onError:function(e){console.error(e)}},0):JsStoreWorker.KeyStore.init()},e.prototype.onMessageFromWorker_=function(e){this.processFinishedQuery_(e.data)},e.prototype.processFinishedQuery_=function(e){var t=this.requestQueue_.shift();if(t){if(d.log("request "+t.name+" finished"),e.errorOccured)t.onError(e.errorDetails);else{switch(t.name){case u.OpenDb:case u.InitDb:this.isDbOpened_=!0;break;case u.Terminate:this.isDbOpened_=!1,!0===h.isRuningInWorker&&this.worker_.terminate();break;case u.CloseDb:this.requestQueue_.length>0?this.openDb_():(this.isDbIdle_=!0,this.callEvent(s.RequestQueueEmpty,[]))}t.onSuccess(e.returnedValue)}this.isCodeExecuting_=!1,this.executeQry_()}},e.prototype.openDb_=function(){this.initKeyStore_(),this.prcoessExecutionOfQry_({name:u.OpenDb,query:this.activeDbName,onSuccess:function(){},onError:function(e){console.error(e)}},1)},e.prototype.executeMiddleware_=function(e){var t=this;return new Promise((function(r){var n=0,i=t.middlewares.length-1,o=function(){n<=i?t.middlewares[n++](e,o):r()};o()}))},e.prototype.pushApi=function(e){var t=this;return new Promise((function(r,n){t.executeMiddleware_(e).then((function(){e.onSuccess=r,e.onError=n,0===t.requestQueue_.length&&(t.callEvent(s.RequestQueueFilled,[]),!0===t.isDbIdle_&&!0===t.isDbOpened_?t.openDb_():(clearTimeout(t.inactivityTimer_),t.initKeyStore_())),t.prcoessExecutionOfQry_(e)})).catch(n)}))},e.prototype.prcoessExecutionOfQry_=function(e,t){this.isDbIdle_=!1,null!=t?this.requestQueue_.splice(t,0,e):this.requestQueue_.push(e),d.log("request pushed: "+e.name),this.executeQry_()},e.prototype.executeQry_=function(){var e=this,t=this.requestQueue_.length;if(!this.isCodeExecuting_&&t>0){if(!0===this.isDbOpened_)return void this.sendRequestToWorker_(this.requestQueue_[0]);var r=this.requestQueue_.findIndex((function(t){return e.whiteListApi_.indexOf(t.name)>=0}));r>=0&&(this.requestQueue_.splice(0,0,this.requestQueue_.splice(r,1)[0]),this.sendRequestToWorker_(this.requestQueue_[0]))}else 0===t&&!1===this.isDbIdle_&&this.isDbOpened_&&(this.inactivityTimer_=setTimeout((function(){e.prcoessExecutionOfQry_({name:u.CloseDb,onSuccess:function(){},onError:function(e){console.error(e)}})}),100))},e.prototype.sendRequestToWorker_=function(e){this.isCodeExecuting_=!0;var t={name:e.name,query:e.query};!0===h.isRuningInWorker?this.worker_.postMessage(t):new JsStoreWorker.QueryExecutor(this.processFinishedQuery_.bind(this)).checkConnectionAndExecuteLogic(t)},e.prototype.callEvent=function(e,t){this.eventQueue.filter((function(t){if(t.event===e)return t})).forEach((function(e){e.callback.apply(e,t)}))},e}(),y=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),b=function(e){function t(t){return e.call(this,t)||this}return y(t,e),t.prototype.openDb=function(e){return this.activeDbName=e,this.pushApi({name:u.OpenDb,query:e})},t.prototype.initDb=function(e){return this.activeDbName=e.name,this.pushApi({name:u.InitDb,query:e})},t.prototype.dropDb=function(){return this.pushApi({name:u.DropDb})},t.prototype.select=function(e){return this.pushApi({name:u.Select,query:e})},t.prototype.count=function(e){return this.pushApi({name:u.Count,query:e})},t.prototype.insert=function(e){return this.pushApi({name:u.Insert,query:e})},t.prototype.update=function(e){return this.pushApi({name:u.Update,query:e})},t.prototype.remove=function(e){return this.pushApi({name:u.Remove,query:e})},t.prototype.clear=function(e){return this.pushApi({name:u.Clear,query:e})},t.prototype.setLogStatus=function(e){h.isLogEnabled=e||h.isLogEnabled,this.pushApi({name:u.ChangeLogStatus,query:h.isLogEnabled})},t.prototype.getDbVersion=function(e){return this.pushApi({name:u.GetDbVersion,query:e})},t.prototype.isDbExist=function(e){return this.pushApi({name:u.IsDbExist,query:e})},t.prototype.getDbList=function(){return this.pushApi({name:u.GetDbList,query:null})},t.prototype.getDbSchema=function(e){return this.pushApi({name:u.GetDbSchema,query:e})},t.prototype.get=function(e){return this.pushApi({name:u.Get,query:e})},t.prototype.set=function(e,t){return this.pushApi({name:u.Set,query:{key:e,value:t}})},t.prototype.terminate=function(){return this.pushApi({name:u.Terminate})},t.prototype.transaction=function(e){return this.pushApi({name:u.Transaction,query:e})},t.prototype.on=function(e,t){this.eventQueue.push({event:e,callback:t})},t.prototype.off=function(e,t){var r=this;this.eventQueue.map((function(t,r){if(t.event===e)return r})).forEach((function(e){r.eventQueue.splice(e,0)}))},t.prototype.union=function(e){return this.pushApi({name:u.Union,query:e})},t.prototype.intersect=function(e){return this.pushApi({name:u.Intersect,query:e})},t.prototype.addPlugin=function(e,t){e.setup(this,t)},t.prototype.addMiddleware=function(e){this.middlewares.push(e)},t.prototype.importScripts=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.pushApi({name:u.ImportScripts,query:e})},t}(v),_=function(e){return console.warn("Instance is obsolete, please use Connection. Refer - https://jsstore.net/tutorial/connection/"),new b(e)},m=function(){h.isLogEnabled=!0}}])},uB4o:function(e,t,r){"use strict";r.r(t),t.default=r.p+"scripts/jsstore.worker.min.4fcffd281d2ca926f60dafd2adce34ae.js"},uXZf:function(e,t){
/*!
 * @license :jsstore - V3.13.5 - 06/04/2021
 * https://github.com/ujjwalguptaofficial/JsStore
 * Copyright (c) 2021 @Ujjwal Gupta; Licensed MIT
 */
e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([,function(e,t,r){"use strict";var n,i,o,u,s,a,c,f,l;r.r(t),r.d(t,"Instance",(function(){return _})),r.d(t,"Connection",(function(){return b})),r.d(t,"Config",(function(){return h})),r.d(t,"enableLog",(function(){return m})),r.d(t,"DATA_TYPE",(function(){return o})),function(e){e.WorkerNotSupplied="worker_not_supplied",e.IndexedDbUndefined="indexeddb_undefined",e.UndefinedColumn="undefined_column",e.UndefinedValue="undefined_value",e.UndefinedColumnName="undefined_column_name",e.UndefinedDbName="undefined_database_name",e.UndefinedColumnValue="undefined_column_value",e.NotArray="not_array",e.NoValueSupplied="no_value_supplied",e.ColumnNotExist="column_not_exist",e.EnableSearchOff="enable_search_off",e.InvalidOp="invalid_operator",e.NullValue="null_value",e.WrongDataType="wrong_data_type",e.TableNotExist="table_not_exist",e.DbNotExist="db_not_exist",e.ConnectionAborted="connection_aborted",e.ConnectionClosed="connection_closed",e.NotObject="not_object",e.InvalidConfig="invalid_config",e.DbBlocked="Db_blocked",e.IndexedDbNotSupported="indexeddb_not_supported",e.NullValueInWhere="null_value_in_where",e.InvalidJoinQuery="invalid_join_query",e.InvalidOrderQuery="invalid_order_query",e.InvalidQuery="invalid_query",e.InvalidGroupQuery="invalid_group_query",e.ImportScriptsFailed="import_scripts_failed",e.MethodNotExist="method_not_exist"}(n||(n={})),function(e){e.Registered="registerd",e.Failed="failed",e.NotStarted="not_started"}(i||(i={})),function(e){e.String="string",e.Object="object",e.Array="array",e.Number="number",e.Boolean="boolean",e.Null="null",e.DateTime="date_time"}(o||(o={})),function(e){e.InitDb="init_db",e.IsDbExist="is_db_exist",e.GetDbVersion="get_db_version",e.GetDbList="get_db_list",e.Get="get",e.Set="set",e.Select="select",e.Insert="insert",e.Update="update",e.Remove="remove",e.GetDbSchema="get_db_schema",e.OpenDb="open_db",e.Clear="clear",e.DropDb="drop_db",e.Count="count",e.ChangeLogStatus="change_log_status",e.Terminate="terminate",e.Transaction="transaction",e.InitKeyStore="init_keystore",e.CloseDb="close_db",e.Union="union",e.Intersect="intersect",e.ImportScripts="import_scripts"}(u||(u={})),function(e){e.RequestQueueEmpty="requestQueueEmpty",e.RequestQueueFilled="requestQueueFilled"}(s||(s={})),function(e){e.Where="where",e.Like="like",e.Regex="regex",e.In="in",e.Equal="=",e.Between="-",e.GreaterThan=">",e.LessThan="<",e.GreaterThanEqualTo=">=",e.LessThanEqualTo="<=",e.NotEqualTo="!=",e.Aggregate="aggregate",e.Max="max",e.Min="min",e.Avg="avg",e.Count="count",e.Sum="sum",e.Or="or",e.Skip="skip",e.Limit="limit",e.And="and",e.IgnoreCase="ignoreCase",e.Then="then"}(a||(a={})),function(e){e.ReadOnly="readonly",e.ReadWrite="readwrite"}(c||(c={})),function(e){e.First="f",e.Last="l",e.Any="a"}(f||(f={})),function(e){e.Connected="connected",e.Closed="closed",e.NotStarted="not_started",e.UnableToStart="unable_to_start",e.ClosedByJsStore="closed_by_jsstore"}(l||(l={}));var p,h=function(){function e(){}return e.isLogEnabled=!1,e.isRuningInWorker=!0,e}(),d=function(){function e(e,t){void 0===t&&(t=null),this.type=e,this._info=t,this.message=this.getMsg()}return e.prototype.throw=function(){throw this.get()},e.log=function(e){h.isLogEnabled&&console.log(e)},e.prototype.logError=function(){console.error(this.get())},e.prototype.logWarning=function(){console.warn(this.get())},e.prototype.get=function(){return{message:this.message,type:this.type}},e.prototype.getMsg=function(){var e;switch(this.type){case n.WorkerNotSupplied:e="Worker object is not passed in instance constructor";break;case n.IndexedDbUndefined:e="Browser does not support indexeddb";break;default:e=this.message}return e},e}(),v=function(){function e(e){this.isDbOpened_=!1,this.isDbIdle_=!0,this.requestQueue_=[],this.isCodeExecuting_=!1,this.inactivityTimer_=-1e3,this.eventQueue=[],this.middlewares=[],this.whiteListApi_=[u.InitDb,u.IsDbExist,u.GetDbVersion,u.GetDbList,u.OpenDb,u.GetDbSchema,u.Get,u.Set,u.ChangeLogStatus,u.Terminate,u.InitKeyStore],e?(this.worker_=e,this.worker_.onmessage=this.onMessageFromWorker_.bind(this)):h.isRuningInWorker=!1}return e.prototype.initKeyStore_=function(){h.isRuningInWorker?this.prcoessExecutionOfQry_({name:u.InitKeyStore,onSuccess:function(){},onError:function(e){console.error(e)}},0):JsStoreWorker.KeyStore.init()},e.prototype.onMessageFromWorker_=function(e){this.processFinishedQuery_(e.data)},e.prototype.processFinishedQuery_=function(e){var t=this.requestQueue_.shift();if(t){if(d.log("request "+t.name+" finished"),e.errorOccured)t.onError(e.errorDetails);else{switch(t.name){case u.OpenDb:case u.InitDb:this.isDbOpened_=!0;break;case u.Terminate:this.isDbOpened_=!1,!0===h.isRuningInWorker&&this.worker_.terminate();break;case u.CloseDb:this.requestQueue_.length>0?this.openDb_():(this.isDbIdle_=!0,this.callEvent(s.RequestQueueEmpty,[]))}t.onSuccess(e.returnedValue)}this.isCodeExecuting_=!1,this.executeQry_()}},e.prototype.openDb_=function(){this.initKeyStore_(),this.prcoessExecutionOfQry_({name:u.OpenDb,query:this.activeDbName,onSuccess:function(){},onError:function(e){console.error(e)}},1)},e.prototype.executeMiddleware_=function(e){var t=this;return new Promise((function(r){var n=0,i=t.middlewares.length-1,o=function(){n<=i?t.middlewares[n++](e,o):r()};o()}))},e.prototype.pushApi=function(e){var t=this;return new Promise((function(r,n){t.executeMiddleware_(e).then((function(){e.onSuccess=r,e.onError=n,0===t.requestQueue_.length&&(t.callEvent(s.RequestQueueFilled,[]),!0===t.isDbIdle_&&!0===t.isDbOpened_?t.openDb_():(clearTimeout(t.inactivityTimer_),t.initKeyStore_())),t.prcoessExecutionOfQry_(e)})).catch(n)}))},e.prototype.prcoessExecutionOfQry_=function(e,t){this.isDbIdle_=!1,null!=t?this.requestQueue_.splice(t,0,e):this.requestQueue_.push(e),d.log("request pushed: "+e.name),this.executeQry_()},e.prototype.executeQry_=function(){var e=this,t=this.requestQueue_.length;if(!this.isCodeExecuting_&&t>0){if(!0===this.isDbOpened_)return void this.sendRequestToWorker_(this.requestQueue_[0]);var r=this.requestQueue_.findIndex((function(t){return e.whiteListApi_.indexOf(t.name)>=0}));r>=0&&(this.requestQueue_.splice(0,0,this.requestQueue_.splice(r,1)[0]),this.sendRequestToWorker_(this.requestQueue_[0]))}else 0===t&&!1===this.isDbIdle_&&this.isDbOpened_&&(this.inactivityTimer_=setTimeout((function(){e.prcoessExecutionOfQry_({name:u.CloseDb,onSuccess:function(){},onError:function(e){console.error(e)}})}),100))},e.prototype.sendRequestToWorker_=function(e){this.isCodeExecuting_=!0;var t={name:e.name,query:e.query};!0===h.isRuningInWorker?this.worker_.postMessage(t):new JsStoreWorker.QueryExecutor(this.processFinishedQuery_.bind(this)).checkConnectionAndExecuteLogic(t)},e.prototype.callEvent=function(e,t){this.eventQueue.filter((function(t){if(t.event===e)return t})).forEach((function(e){e.callback.apply(e,t)}))},e}(),y=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),b=function(e){function t(t){return e.call(this,t)||this}return y(t,e),t.prototype.openDb=function(e){return this.activeDbName=e,this.pushApi({name:u.OpenDb,query:e})},t.prototype.initDb=function(e){return this.activeDbName=e.name,this.pushApi({name:u.InitDb,query:e})},t.prototype.dropDb=function(){return this.pushApi({name:u.DropDb})},t.prototype.select=function(e){return this.pushApi({name:u.Select,query:e})},t.prototype.count=function(e){return this.pushApi({name:u.Count,query:e})},t.prototype.insert=function(e){return this.pushApi({name:u.Insert,query:e})},t.prototype.update=function(e){return this.pushApi({name:u.Update,query:e})},t.prototype.remove=function(e){return this.pushApi({name:u.Remove,query:e})},t.prototype.clear=function(e){return this.pushApi({name:u.Clear,query:e})},t.prototype.setLogStatus=function(e){h.isLogEnabled=e||h.isLogEnabled,this.pushApi({name:u.ChangeLogStatus,query:h.isLogEnabled})},t.prototype.getDbVersion=function(e){return this.pushApi({name:u.GetDbVersion,query:e})},t.prototype.isDbExist=function(e){return this.pushApi({name:u.IsDbExist,query:e})},t.prototype.getDbList=function(){return this.pushApi({name:u.GetDbList,query:null})},t.prototype.getDbSchema=function(e){return this.pushApi({name:u.GetDbSchema,query:e})},t.prototype.get=function(e){return this.pushApi({name:u.Get,query:e})},t.prototype.set=function(e,t){return this.pushApi({name:u.Set,query:{key:e,value:t}})},t.prototype.terminate=function(){return this.pushApi({name:u.Terminate})},t.prototype.transaction=function(e){return this.pushApi({name:u.Transaction,query:e})},t.prototype.on=function(e,t){this.eventQueue.push({event:e,callback:t})},t.prototype.off=function(e,t){var r=this;this.eventQueue.map((function(t,r){if(t.event===e)return r})).forEach((function(e){r.eventQueue.splice(e,0)}))},t.prototype.union=function(e){return this.pushApi({name:u.Union,query:e})},t.prototype.intersect=function(e){return this.pushApi({name:u.Intersect,query:e})},t.prototype.addPlugin=function(e,t){e.setup(this,t)},t.prototype.addMiddleware=function(e){this.middlewares.push(e)},t.prototype.importScripts=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.pushApi({name:u.ImportScripts,query:e})},t}(v),_=function(e){return console.warn("Instance is obsolete, please use Connection. Refer - https://jsstore.net/tutorial/connection/"),new b(e)},m=function(){h.isLogEnabled=!0}}])},zUnb:function(e,t,r){"use strict";r.r(t),r.d(t,"connect",(function(){return y})),r.d(t,"createDbSchema",(function(){return b})),r.d(t,"createDb",(function(){return _})),r.d(t,"createTable",(function(){return m})),r.d(t,"runSql",(function(){return q})),r.d(t,"getParameterizedSqlExpression",(function(){return E})),r.d(t,"runParameterizedSql",(function(){return w})),r.d(t,"insert",(function(){return g})),r.d(t,"update",(function(){return A})),r.d(t,"remove",(function(){return x})),r.d(t,"select",(function(){return D})),r.d(t,"paging",(function(){return S}));var n,i,o,u,s,a=r("S6P5"),c=r("tPlz"),f=r.n(c),l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},p=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function u(e){try{a(n.next(e))}catch(e){o(e)}}function s(e){try{a(n.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(u,s)}a((n=n.apply(e,t||[])).next())}))},h=function(e,t){var r,n,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=u.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(e,u)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},d="development"===production,v=r(d?"q/8d":"uB4o");function y(){try{return n||((n=new a.Connection(new Worker(v))).setLogStatus(d),n.addPlugin(f.a),i=n.insert.bind(n),o=n.update.bind(n),u=n.remove.bind(n),s=n.select.bind(n),n.createDb=_,n.createDbSchema=b,n.createTable=m,n.insert=g,n.update=A,n.remove=x,n.select=D,n.paging=S),Promise.resolve(n)}catch(e){return Promise.reject(e)}}function b(e,t){return{name:e,tables:t.map((function(e){return e.columns._id={primaryKey:!0,autoIncrement:!0},e}))}}function _(e){return p(this,void 0,void 0,(function(){var t;return h(this,(function(r){switch(r.label){case 0:return t=e,[4,n.initDb(t)];case 1:return!0===r.sent()?console.log("db created"):console.log("db opened"),[2,n]}}))}))}function m(e,t){return p(this,void 0,void 0,(function(){var r,i;return h(this,(function(o){switch(o.label){case 0:return[4,n.getDbVersion(e)];case 1:return r=o.sent(),[4,n.getDbSchema(e)];case 2:return i=o.sent(),t.columns._id={primaryKey:!0,autoIncrement:!0},i.tables.push(l(l({},t),{version:r+1})),[4,_(i)];case 3:return[2,o.sent()]}}))}))}function g(e,t){return p(this,void 0,void 0,(function(){var r;return h(this,(function(n){switch(n.label){case 0:return[4,i({into:e,values:t})];case 1:return(r=n.sent())>0?[2,Promise.resolve(r)]:[2,Promise.reject()]}}))}))}function A(e,t){return p(this,void 0,void 0,(function(){var r;return h(this,(function(n){switch(n.label){case 0:return[4,o(l({in:e},t))];case 1:return(r=n.sent())?[2,Promise.resolve(r)]:[2,Promise.reject()]}}))}))}function x(e,t){return p(this,void 0,void 0,(function(){var r;return h(this,(function(n){switch(n.label){case 0:return[4,u(l({from:e},t))];case 1:return(r=n.sent())?[2,Promise.resolve(r)]:[2,Promise.reject()]}}))}))}function D(e,t){return p(this,void 0,void 0,(function(){var r;return h(this,(function(n){switch(n.label){case 0:return[4,s(l({from:e},t))];case 1:return(r=n.sent()).length?[2,Promise.resolve(r)]:[2,Promise.reject()]}}))}))}function S(e,t,r,n){return void 0===t&&(t={}),void 0===r&&(r=1),void 0===n&&(n=10),p(this,void 0,void 0,(function(){var i;return h(this,(function(o){switch(o.label){case 0:return[4,D(e,l({limit:n,skip:(r-1)*n},t))];case 1:return(i=o.sent()).length?[2,Promise.resolve(i)]:[2,Promise.reject()]}}))}))}function q(e){return n.$sql.run(e)}function E(e,t){var r=new n.$sql.Query(e);return Object.entries(t).forEach((function(e){r.map("@"+e[0],e[1])})),r}function w(e,t){return q(E(e,t))}}});